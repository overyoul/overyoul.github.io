(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"5a30":function(t,e,n){"use strict";n.r(e);var i=n("b8e9"),a=n("8c2f");for(var s in a)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(s);var c=n("f0c5"),u=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"7bfa53b4",null,!1,i["a"],void 0);e["default"]=u.exports},"8c2f":function(t,e,n){"use strict";n.r(e);var i=n("fca4"),a=n.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=a.a},b8e9:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content"},[n("v-uni-scroll-view",{staticClass:"bg-white nav ",attrs:{"scroll-x":!0}},[n("v-uni-view",{staticClass:"flex text-center"},[n("v-uni-view",{staticClass:"cu-item flex-sub",class:0==t.tab?"text-blue cur":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tabSelect(0)}}},[t._v("最新")]),n("v-uni-view",{staticClass:"cu-item flex-sub",class:1==t.tab?"text-blue cur":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tabSelect(1)}}},[t._v("排行")]),n("v-uni-view",{staticClass:"cu-item flex-sub",class:2==t.tab?"text-blue cur":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tabSelect(2)}}},[t._v("搜索")])],1)],1),!t.xbs||0!=t.tab&&1!=t.tab?t._e():n("v-uni-view",{staticClass:"cu-list menu sm-border card-menu"},t._l(0==t.tab?t.xbs:t.xb6s,(function(e,i){return e?n("v-uni-view",{key:i,staticClass:"cu-item",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.toDetail(e)}}},[n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"text-cut margin-top-xs",staticStyle:{width:"75vw"}},[t._v(t._s(e.title))]),n("v-uni-view",{staticClass:"text-grey text-xs"},[t._v(t._s(e.catename))])],1),n("v-uni-view",{staticClass:"action"},[n("v-uni-view",{staticClass:"cu-tag round bg-blue light"},[t._v(t._s(e.shorttime))])],1)],1):t._e()})),1),0==t.tab&&t.xbs.length<300?n("v-uni-view",{staticClass:"flex justify-center margin-tb-xs",staticStyle:{width:"100vw"}},[n("v-uni-view",{staticClass:"cu-tag line-blue",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getData(300)}}},[t._v("加载更多")])],1):t._e(),t.showSearch?n("v-uni-view",{staticClass:"cu-bar search bg-white"},[n("v-uni-view",{staticClass:"search-form round"},[n("v-uni-text",{staticClass:"cuIcon-search"}),n("v-uni-input",{attrs:{"adjust-position":!1,type:"text",placeholder:"输入内容或链接直接解析","confirm-type":"search"},on:{focus:function(e){arguments[0]=e=t.$handleEvent(e),t.InputFocus.apply(void 0,arguments)},blur:function(e){arguments[0]=e=t.$handleEvent(e),t.InputBlur.apply(void 0,arguments)}},model:{value:t.searchContent,callback:function(e){t.searchContent=e},expression:"searchContent"}})],1),n("v-uni-view",{staticClass:"action"},[n("v-uni-button",{staticClass:"cu-btn line-blue shadow-blur round",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.search.apply(void 0,arguments)}}},[t._v("搜索")])],1)],1):t._e(),t.searchResult&&2==t.tab?n("v-uni-view",{staticClass:"cu-list menu sm-border card-menu"},t._l(t.searchResult,(function(e,i){return e?n("v-uni-view",{key:i,staticClass:"cu-item",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.toDetail(e)}}},[n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"text-cut margin-top-xs",staticStyle:{width:"75vw"},domProps:{innerHTML:t._s(e.title)}}),n("v-uni-view",{staticClass:"text-grey text-xs"},[t._v(t._s(e.catename))])],1),n("v-uni-view",{staticClass:"action"},[n("v-uni-view",{staticClass:"cu-tag round bg-blue light"},[t._v(t._s(t.isToday(e.datetime+"T"+e.shorttime)?e.shorttime:String(e.datetime).substring(5,9)))])],1)],1):t._e()})),1):t._e(),n("v-uni-view",{staticClass:" text-xl flex justify-center align-center text-grey shadow bg-white",staticStyle:{bottom:"20%",position:"fixed",right:"25rpx","border-radius":"50%",width:"70rpx",height:"70rpx"},style:{display:t.btnViewDisPlay},attrs:{id:"btnView"}},[n("v-uni-view",{staticClass:"cuIcon-top",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toTop()}}})],1)],1)},a=[]},fca4:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("498a"),n("a434");n("32df");var i={data:function(){return{xbs:[],xb6s:[],detail:"",btnViewDisPlay:"none",tab:0,searchContent:"",showSearch:!1,searchResult:[]}},onLoad:function(){console.log("onLoad........................."),uni.setStorageSync("timeOutObj",null)},onShow:function(){this.getData(20)},onPageScroll:function(t){t.scrollTop>200?this.btnViewDisPlay="flex":this.btnViewDisPlay="none"},methods:{toTop:function(){uni.pageScrollTo({scrollTop:0})},isToday:function(t){var e=new Date;e.setHours(0,0,0,0);var n=new Date(t);return n.setHours(0,0,0,0),e.getTime()===n.getTime()},tabSelect:function(t){this.tab=t,this.showSearch=!1,1==t?this.getData6():2==t&&(this.showSearch=!0)},InputFocus:function(){console.log("focus")},InputBlur:function(){console.log("blur")},search:function(){var t=this;""!=this.searchContent.trim()?(uni.showLoading(),this.getRequest("/xb/search?key="+t.searchContent).then((function(e){301==e.code?(uni.setStorageSync("srcXb",[]),uni.navigateTo({url:"/pages/detail/detail?url="+e.data})):(t.searchResult=e.data,0==e.data.length&&uni.showToast({title:"为检索到内容",icon:"none"})),uni.hideLoading()}))):uni.showToast({title:"请输入内容",icon:"none"})},refresh:function(){this.getData(10)},getData6:function(){var t=this;t.getRequest("/xb/shier").then((function(e){t.xb6s=e.data}))},getData:function(t){console.log("getData。。。。。。。");var e=this;e.getRequest("/xb/get/"+t).then((function(t){for(var n=t.data.length-1;n>=0;n--){for(var i=!1,a=0;a<e.xbs.length;a++)e.xbs[a].id==t.data[n].id&&(i=!0);i||e.xbs.splice(0,0,t.data[n])}})),e.reset()},toDetail:function(t){uni.setStorageSync("srcXb",t),uni.navigateTo({url:"/pages/detail/detail?id="+t.id})},reset:function(){var t=this,e=uni.getStorageSync("timeOutObj");null!=e&&clearInterval(e),e=setInterval((function(){t.getData(10)}),5e3),uni.setStorageSync("timeOutObj",e)}}};e.default=i}}]);